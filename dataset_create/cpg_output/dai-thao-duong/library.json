{
  "resourceType": "Library",
  "id": "library-h--ng-d-n-ch-n--o-n-v---i-u-tr----i-th-o----ng-t-p-2",
  "url": "http://example.org/fhir/Library/library-h--ng-d-n-ch-n--o-n-v---i-u-tr----i-th-o----ng-t-p-2",
  "name": "Library_h__ng_d_n_ch_n__o_n_v___i_u_tr____i_th_o____ng_t_p_2",
  "title": "Clinical Logic for Hướng dẫn chẩn đoán và điều trị đái tháo đường típ 2",
  "status": "draft",
  "type": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "logic-library",
        "display": "Logic Library"
      }
    ]
  },
  "description": "Contains clinical decision logic extracted from medical document",
  "purpose": "Provide executable logic for clinical decision support",
  "content": [
    {
      "contentType": "text/cql",
      "data": "bGlicmFyeSBEaWFiZXRlc01hbmFnZW1lbnQgdmVyc2lvbiAnMS4wLjAnIAp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzEuMC4wJwoKY29udGV4dCBQYXRpZW50CgovLyBWYWx1ZSBTZXRzCnZhbHVlc2V0ICJEaWFiZXRlcyBTeW1wdG9tcyIgOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvVmFsdWVTZXQvZGlhYmV0ZXMtc3ltcHRvbXMnCnZhbHVlc2V0ICJHbHVjb3NlIFRlc3QgUmVzdWx0cyIgOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvVmFsdWVTZXQvZ2x1Y29zZS10ZXN0LXJlc3VsdHMnCgovLyBDb2Rlcwpjb2RlICJEaWFiZXRlcyBNZWxsaXR1cyBUeXBlIDIiIDogJzI1MC4wMCcgZnJvbSAiSUNELTEwLUNNIgpjb2RlICJGYXN0aW5nIEdsdWNvc2UiIDogJzE1NScgZnJvbSAiTE9JTkMiCgovLyBSZXVzYWJsZSBEZWZpbml0aW9ucwpkZWZpbmUgIkhhc0NsYXNzaWNTeW1wdG9tcyI6CiAgICBleGlzdHMgKE9ic2VydmF0aW9uIE8KICAgICAgICB3aGVyZSBPLmNvZGUgaW4gIkRpYWJldGVzIFN5bXB0b21zIgogICAgICAgIGFuZCBPLnN1YmplY3QgPSBQYXRpZW50CiAgICAgICAgYW5kIE8uc3RhdHVzID0gJ2ZpbmFsJwogICAgKQoKZGVmaW5lICJGYXN0aW5nR2x1Y29zZVRlc3QiOgogICAgZXhpc3RzIChPYnNlcnZhdGlvbiBPCiAgICAgICAgd2hlcmUgTy5jb2RlID0gIkZhc3RpbmcgR2x1Y29zZSIKICAgICAgICBhbmQgTy5zdWJqZWN0ID0gUGF0aWVudAogICAgICAgIGFuZCBPLnN0YXR1cyA9ICdmaW5hbCcKICAgICAgICBhbmQgTy52YWx1ZVF1YW50aXR5LnZhbHVlID49IDEyNiAvLyBGYXN0aW5nIGdsdWNvc2UgPj0gMTI2IG1nL2RMCiAgICApCgpkZWZpbmUgIlJlY29tbWVuZGF0aW9ucyI6CiAgICBpZiAiSGFzQ2xhc3NpY1N5bXB0b21zIiB0aGVuCiAgICAgICAgJ0NvbnNpZGVyIGZ1cnRoZXIgdGVzdGluZyBmb3IgZGlhYmV0ZXMgbWVsbGl0dXMgdHlwZSAyLicKICAgIGVsc2UgaWYgIkZhc3RpbmdHbHVjb3NlVGVzdCIgdGhlbgogICAgICAgICdEaWFnbm9zaXMgb2YgZGlhYmV0ZXMgbWVsbGl0dXMgdHlwZSAyIGNvbmZpcm1lZCBiYXNlZCBvbiBmYXN0aW5nIGdsdWNvc2UgbGV2ZWxzLicKICAgIGVsc2UKICAgICAgICAnTm8gc3BlY2lmaWMgcmVjb21tZW5kYXRpb25zIGF0IHRoaXMgdGltZS4nCiAgICBlbmRpZgoKLy8gTWFpbiBMb2dpYwpkZWZpbmUgIkNsaW5pY2FsRGVjaXNpb25TdXBwb3J0IjoKICAgIGxldCByZWNvbW1lbmRhdGlvbnMgPSAiUmVjb21tZW5kYXRpb25zIgogICAgcmV0dXJuIHJlY29tbWVuZGF0aW9ucwoKLy8gQWxlcnQgTG9naWMKZGVmaW5lICJBbGVydE5lZWRlZCI6CiAgICBjb3VudCgiQ2xpbmljYWxEZWNpc2lvblN1cHBvcnQiKSA+IDAKCmRlZmluZSAiQWxlcnRNZXNzYWdlIjoKICAgIGlmICJBbGVydE5lZWRlZCIgdGhlbgogICAgICAgICdDbGluaWNhbCBEZWNpc2lvbiBTdXBwb3J0OiAnIHx8IGNvdW50KCJDbGluaWNhbERlY2lzaW9uU3VwcG9ydCIpIHx8ICcgcmVjb21tZW5kYXRpb25zJwogICAgZWxzZQogICAgICAgICdObyBzcGVjaWZpYyByZWNvbW1lbmRhdGlvbnMgYXQgdGhpcyB0aW1lJwogICAgZW5kaWYKCi8vIE91dHB1dApkZWZpbmUgIk91dHB1dCI6CiAgICBpZiAiQWxlcnROZWVkZWQiIHRoZW4KICAgICAgICB3cml0ZSAiQWxlcnQgTWVzc2FnZTogIiB8fCAiQWxlcnRNZXNzYWdlIgogICAgICAgIHdyaXRlICJSZWNvbW1lbmRhdGlvbnM6ICIgfHwgIkNsaW5pY2FsRGVjaXNpb25TdXBwb3J0IgogICAgZW5kaWY="
    },
    {
      "contentType": "text/plain",
      "data": "bWFpbnRlbmFuY2U6CiAgICB0aXRsZTogSMaw4bubbmdfZOG6q25fY2jhuqluX8SRb8Ohbl92w6BfxJFp4buBdV90cuG7i1/EkcOhaV90aMOhb1/Ekcaw4budbmdfdMOtcF8yOzsKICAgIG1sbW5hbWU6IGgtLW5nLWQtbi1jaC1uLS1vLW4tdi0tLWktdS10ci0tLS1pLXRoLW8tLS0tbmctdC1wLTI7OwogICAgYXJkZW46IFZlcnNpb24gMi4xMDs7CiAgICB2ZXJzaW9uOiAxLjAuMDs7CiAgICBpbnN0aXR1dGlvbjogR2VuZXJhdGVkIGZyb20gTWVkaWNhbCBEb2N1bWVudDs7CiAgICBhdXRob3I6IEF1dG9tYXRlZCBDb252ZXJzaW9uIFN5c3RlbTs7CiAgICBzcGVjaWFsaXN0OiA7OwogICAgZGF0ZTogMjAyNS0xMC0yMDs7CiAgICB2YWxpZGF0aW9uOiB0ZXN0aW5nOzsKCmxpYnJhcnk6CiAgICBwdXJwb3NlOiBDaOG6qW4gxJFvw6FuIHbDoCDEkWnhu4F1IHRy4buLIMSRw6FpIHRow6FvIMSRxrDhu51uZyB0w61wIDI7OwogICAgZXhwbGFuYXRpb246IFRoaXMgTUxNIGltcGxlbWVudHMgY2xpbmljYWwgZGVjaXNpb24gbG9naWMgZXh0cmFjdGVkIGZyb20KICAgICAgICAgICAgICAgICBhIG1lZGljYWwgZ3VpZGVsaW5lIGRvY3VtZW50IHVzaW5nIEFJIHRleHQgYW5hbHlzaXMgYW5kCiAgICAgICAgICAgICAgICAgY29udmVydGVkIHRvIEZISVIgUGxhbkRlZmluaXRpb24gZm9ybWF0Ljs7CiAgICBrZXl3b3JkczogxJDDoWkgdGjDoW8gxJHGsOG7nW5nIHTDrXAgMjs7CiAgICBjaXRhdGlvbnM6IDs7Cgprbm93bGVkZ2U6CiAgICB0eXBlOiBkYXRhLWRyaXZlbjs7CiAgICAKICAgIGRhdGE6CiAgICAgICAgLyogUGF0aWVudCBpZGVudGlmaWVycyAqLwogICAgICAgIHBhdGllbnRfaWQgOj0gcmVhZCB7cGF0aWVudF9pZGVudGlmaWVyfTsKICAgICAgICBlbmNvdW50ZXJfaWQgOj0gcmVhZCB7ZW5jb3VudGVyX2lkfTsKICAgICAgICAKICAgICAgICAvKiBDbGluaWNhbCBkYXRhIGVsZW1lbnRzIGZyb20gZG9jdW1lbnQgKi8KICAgICAgICBub2RlMSA6PSByZWFkIHtUcmnhu4d1IGNo4bupbmcga2luaCDEkWnhu4NuIGPhu6dhIHTEg25nIGdsdWNvc2UgaHV54bq/dH07CiAgICAgICAgbm9kZTMgOj0gcmVhZCB7R2x1Y29zZSBodXnhur90IHTGsMahbmcgbMO6YyDEkcOzaX07CiAgICA7OwogICAgCiAgICBldm9rZToKICAgICAgICAvKiBUcmlnZ2VyIGNvbmRpdGlvbnMgKi8KICAgICAgICBOZ2hpIG5n4budIMSRw6FpIHRow6FvIMSRxrDhu51uZyBPUgogICAgICAgIGNsaW5pY2FsX2RlY2lzaW9uX3N1cHBvcnRfcmVxdWVzdGVkCiAgICA7OwogICAgCiAgICBsb2dpYzoKICAgICAgICAvKiBJbml0aWFsaXplICovCiAgICAgICAgcmVjb21tZW5kYXRpb25zIDo9IFtdOwogICAgICAgIGRlY2lzaW9uX3BhdGggOj0gIiI7CiAgICAgICAgCiAgICAgICAgLyogSW1wbGVtZW50IGRlY2lzaW9uIHRyZWUgbG9naWMgKi8KCiAgICAgICAgLyogQ2jhuqluIMSRb8OhbiDEkcOhaSB0aMOhbyDEkcaw4budbmcgKi8KICAgICAgICBpZiBub2RlMSB0aGVuCiAgICAgICAgZWxzZQogICAgICAgIGVuZGlmOwoKICAgICAgICAvKiBDaOG6qW4gxJFvw6FuIMSRw6FpIHRow6FvIMSRxrDhu51uZyAqLwoKICAgICAgICAvKiBUaOG7sWMgaGnhu4duIHjDqXQgbmdoaeG7h20gY2jhuqluIMSRb8OhbiAqLwogICAgICAgIGlmIG5vZGUzIHRoZW4KICAgICAgICBlbHNlCiAgICAgICAgZW5kaWY7CgogICAgICAgIC8qIELhuq90IMSR4bqndSDEkWnhu4F1IHRy4buLICovCgogICAgICAgIC8qIFRoZW8gZMO1aSB2w6AgeMOpdCBuZ2hp4buHbSBs4bqhaSAqLwoKICAgICAgICAvKiBQcmVwYXJlIG91dHB1dCAqLwogICAgICAgIGlmIGNvdW50KHJlY29tbWVuZGF0aW9ucykgPiAwIHRoZW4KICAgICAgICAgICAgYWxlcnRfbmVlZGVkIDo9IHRydWU7CiAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UgOj0gIkNsaW5pY2FsIERlY2lzaW9uIFN1cHBvcnQ6ICIgfHwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQocmVjb21tZW5kYXRpb25zKSB8fCAiIHJlY29tbWVuZGF0aW9ucyI7CiAgICAgICAgZWxzZQogICAgICAgICAgICBhbGVydF9uZWVkZWQgOj0gZmFsc2U7CiAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UgOj0gIk5vIHNwZWNpZmljIHJlY29tbWVuZGF0aW9ucyBhdCB0aGlzIHRpbWUiOwogICAgICAgIGVuZGlmOwogICAgOzsKICAgIAogICAgYWN0aW9uOgogICAgICAgIC8qIEV4ZWN1dGUgcmVjb21tZW5kYXRpb25zICovCiAgICAgICAgaWYgYWxlcnRfbmVlZGVkIHRoZW4KICAgICAgICAgICAgd3JpdGUgYWxlcnRfbWVzc2FnZTsKICAgICAgICAgICAgd3JpdGUgIkRlY2lzaW9uIFBhdGg6ICIgfHwgZGVjaXNpb25fcGF0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciByZWMgaW4gcmVjb21tZW5kYXRpb25zIGRvCiAgICAgICAgICAgICAgICB3cml0ZSAiICAtICIgfHwgcmVjOwogICAgICAgICAgICBlbmRkbzsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7CiAgICAgICAgZW5kaWY7CiAgICA7OwoKZW5kOgo=",
      "title": "Arden Syntax MLM"
    }
  ]
}