{
  "resourceType": "Library",
  "id": "library-guideline-for-diagnosis-and-treatment-of-transient-ischemic-atta",
  "url": "http://example.org/fhir/Library/library-guideline-for-diagnosis-and-treatment-of-transient-ischemic-atta",
  "name": "Library_guideline_for_diagnosis_and_treatment_of_transient_ischemic_atta",
  "title": "Clinical Logic for Guideline for Diagnosis and Treatment of Transient Ischemic Attack and Minor Stroke",
  "status": "draft",
  "type": {
    "coding": [
      {
        "system": "http://terminology.hl7.org/CodeSystem/library-type",
        "code": "logic-library",
        "display": "Logic Library"
      }
    ]
  },
  "description": "Contains clinical decision logic extracted from medical document",
  "purpose": "Provide executable logic for clinical decision support",
  "content": [
    {
      "contentType": "text/cql",
      "data": "bGlicmFyeSBHdWlkZWxpbmVfZm9yX0RpYWdub3Npc19hbmRfVHJlYXRtZW50X29mX1RyYW5zaWVudF9Jc2NoZW1pY19BdHRhY2tfYW5kX01pbm9yX1N0cm9rZSB2ZXJzaW9uICcxLjAuMCcKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnMS4wLjAnCgpjb250ZXh0IFBhdGllbnQKCi8vIFZhbHVlIFNldHMKdmFsdWVzZXQgIkZvY2FsIE5ldXJvbG9naWNhbCBTaWducyIgOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvVmFsdWVTZXQvZm9jYWwtbmV1cm9sb2dpY2FsLXNpZ25zJwp2YWx1ZXNldCAiSW1hZ2luZyBGaW5kaW5ncyIgOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvVmFsdWVTZXQvaW1hZ2luZy1maW5kaW5ncycKCi8vIERlZmluaXRpb25zCmRlZmluZSAiRm9jYWxOZXVyb2xvZ2ljYWxTaWduc1ByZXNlbnQiOgogICAgZXhpc3RzIChPYnNlcnZhdGlvbiBPIHdoZXJlIE8uY29kZSBpbiAiRm9jYWwgTmV1cm9sb2dpY2FsIFNpZ25zIiBhbmQgTy5zdGF0dXMgPSAnZmluYWwnIGFuZCBPLnN1YmplY3QgPSBQYXRpZW50KQoKZGVmaW5lICJJbWFnaW5nU2hvd3NJc2NoZW1pY0NoYW5nZXMiOgogICAgZXhpc3RzIChPYnNlcnZhdGlvbiBPIHdoZXJlIE8uY29kZSBpbiAiSW1hZ2luZyBGaW5kaW5ncyIgYW5kIE8uc3RhdHVzID0gJ2ZpbmFsJyBhbmQgTy5zdWJqZWN0ID0gUGF0aWVudCkKCi8vIERlY2lzaW9uIExvZ2ljCmRlZmluZSAiUmVjb21tZW5kYXRpb25zIjoKICAgIGlmICJGb2NhbE5ldXJvbG9naWNhbFNpZ25zUHJlc2VudCIgdGhlbgogICAgICAgIGlmICJJbWFnaW5nU2hvd3NJc2NoZW1pY0NoYW5nZXMiIHRoZW4KICAgICAgICAgICAgcmV0dXJuIFsiQ29uc2lkZXIgaG9zcGl0YWxpemF0aW9uIGZvciBmdXJ0aGVyIGV2YWx1YXRpb24gYW5kIG1hbmFnZW1lbnQgb2YgVElBLiJdCiAgICAgICAgZWxzZQogICAgICAgICAgICByZXR1cm4gWyJDb25zaWRlciBvdXRwYXRpZW50IGZvbGxvdy11cCBhbmQgcmlzayBmYWN0b3IgbW9kaWZpY2F0aW9uLiJdCiAgICAgICAgZW5kaWYKICAgIGVsc2UKICAgICAgICByZXR1cm4gW10KICAgIGVuZGlmCgovLyBBbGVydCBMb2dpYwpkZWZpbmUgIkFsZXJ0TmVlZGVkIjoKICAgIGNvdW50KCJSZWNvbW1lbmRhdGlvbnMiKSA+IDAKCmRlZmluZSAiQWxlcnRNZXNzYWdlIjoKICAgIGlmICJBbGVydE5lZWRlZCIgdGhlbgogICAgICAgICJDbGluaWNhbCBEZWNpc2lvbiBTdXBwb3J0OiAiICsgY291bnQoIlJlY29tbWVuZGF0aW9ucyIpICsgIiByZWNvbW1lbmRhdGlvbnMiCiAgICBlbHNlCiAgICAgICAgIk5vIHNwZWNpZmljIHJlY29tbWVuZGF0aW9ucyBhdCB0aGlzIHRpbWUiCiAgICBlbmRpZgoKLy8gTWFpbiBPdXRwdXQKZGVmaW5lICJEZWNpc2lvblBhdGgiOgogICAgaWYgIkFsZXJ0TmVlZGVkIiB0aGVuCiAgICAgICAgIlJlY29tbWVuZGF0aW9ucyBhdmFpbGFibGUgYmFzZWQgb24gY2xpbmljYWwgZmluZGluZ3MuIgogICAgZWxzZQogICAgICAgICJObyByZWNvbW1lbmRhdGlvbnMgYXZhaWxhYmxlLiIKICAgIGVuZGlmCgovLyBPdXRwdXQKZGVmaW5lICJPdXRwdXQiOgogICAgaWYgIkFsZXJ0TmVlZGVkIiB0aGVuCiAgICAgICAgewogICAgICAgICAgICAiYWxlcnRfbWVzc2FnZSI6ICJBbGVydE1lc3NhZ2UiLAogICAgICAgICAgICAiZGVjaXNpb25fcGF0aCI6ICJEZWNpc2lvblBhdGgiLAogICAgICAgICAgICAicmVjb21tZW5kYXRpb25zIjogIlJlY29tbWVuZGF0aW9ucyIKICAgICAgICB9CiAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICAiYWxlcnRfbWVzc2FnZSI6ICJBbGVydE1lc3NhZ2UiLAogICAgICAgICAgICAiZGVjaXNpb25fcGF0aCI6ICJEZWNpc2lvblBhdGgiLAogICAgICAgICAgICAicmVjb21tZW5kYXRpb25zIjogW10KICAgICAgICB9CiAgICBlbmRpZg=="
    },
    {
      "contentType": "text/plain",
      "data": "bWFpbnRlbmFuY2U6CiAgICB0aXRsZTogR3VpZGVsaW5lX2Zvcl9EaWFnbm9zaXNfYW5kX1RyZWF0bWVudF9vZl9UcmFuc2llbnRfSXNjaGVtaWNfQXR0YWNrX2FuZF9NaW5vcl9TdHJva2U7OwogICAgbWxtbmFtZTogZ3VpZGVsaW5lLWZvci1kaWFnbm9zaXMtYW5kLXRyZWF0bWVudC1vZi10cmFuc2llbnQtaXNjaGVtaWMtYXR0YTs7CiAgICBhcmRlbjogVmVyc2lvbiAyLjEwOzsKICAgIHZlcnNpb246IDEuMC4wOzsKICAgIGluc3RpdHV0aW9uOiBHZW5lcmF0ZWQgZnJvbSBNZWRpY2FsIERvY3VtZW50OzsKICAgIGF1dGhvcjogQXV0b21hdGVkIENvbnZlcnNpb24gU3lzdGVtOzsKICAgIHNwZWNpYWxpc3Q6IDs7CiAgICBkYXRlOiAyMDI1LTEwLTIwOzsKICAgIHZhbGlkYXRpb246IHRlc3Rpbmc7OwoKbGlicmFyeToKICAgIHB1cnBvc2U6IFRvIHByb3ZpZGUgY2xpbmljYWwgZ3VpZGFuY2UgZm9yIHRoZSBkaWFnbm9zaXMgYW5kIHRyZWF0bWVudCBvZiBUSUEgYW5kIG1pbm9yIHN0cm9rZS47OwogICAgZXhwbGFuYXRpb246IFRoaXMgTUxNIGltcGxlbWVudHMgY2xpbmljYWwgZGVjaXNpb24gbG9naWMgZXh0cmFjdGVkIGZyb20KICAgICAgICAgICAgICAgICBhIG1lZGljYWwgZ3VpZGVsaW5lIGRvY3VtZW50IHVzaW5nIEFJIHRleHQgYW5hbHlzaXMgYW5kCiAgICAgICAgICAgICAgICAgY29udmVydGVkIHRvIEZISVIgUGxhbkRlZmluaXRpb24gZm9ybWF0Ljs7CiAgICBrZXl3b3JkczogVHJhbnNpZW50IElzY2hlbWljIEF0dGFjayAoVElBKSBhbmQgTWlub3IgU3Ryb2tlOzsKICAgIGNpdGF0aW9uczogOzsKCmtub3dsZWRnZToKICAgIHR5cGU6IGRhdGEtZHJpdmVuOzsKICAgIAogICAgZGF0YToKICAgICAgICAvKiBQYXRpZW50IGlkZW50aWZpZXJzICovCiAgICAgICAgcGF0aWVudF9pZCA6PSByZWFkIHtwYXRpZW50X2lkZW50aWZpZXJ9OwogICAgICAgIGVuY291bnRlcl9pZCA6PSByZWFkIHtlbmNvdW50ZXJfaWR9OwogICAgICAgIAogICAgICAgIC8qIENsaW5pY2FsIGRhdGEgZWxlbWVudHMgZnJvbSBkb2N1bWVudCAqLwogICAgICAgIG5vZGUxIDo9IHJlYWQge0ZvY2FsIG5ldXJvbG9naWNhbCBzaWducyBwcmVzZW50fTsKICAgICAgICBub2RlMiA6PSByZWFkIHtJbWFnaW5nIHNob3dzIGlzY2hlbWljIGNoYW5nZXN9OwogICAgOzsKICAgIAogICAgZXZva2U6CiAgICAgICAgLyogVHJpZ2dlciBjb25kaXRpb25zICovCiAgICAgICAgTmV1cm9sb2dpY2FsIHN5bXB0b21zIHN1Z2dlc3RpdmUgb2YgVElBIG9yIG1pbm9yIHN0cm9rZSBPUgogICAgICAgIGNsaW5pY2FsX2RlY2lzaW9uX3N1cHBvcnRfcmVxdWVzdGVkCiAgICA7OwogICAgCiAgICBsb2dpYzoKICAgICAgICAvKiBJbml0aWFsaXplICovCiAgICAgICAgcmVjb21tZW5kYXRpb25zIDo9IFtdOwogICAgICAgIGRlY2lzaW9uX3BhdGggOj0gIiI7CiAgICAgICAgCiAgICAgICAgLyogSW1wbGVtZW50IGRlY2lzaW9uIHRyZWUgbG9naWMgKi8KCiAgICAgICAgLyogQXNzZXNzbWVudCBvZiBOZXVyb2xvZ2ljYWwgU3ltcHRvbXMgKi8KICAgICAgICBpZiBub2RlMSB0aGVuCiAgICAgICAgZWxzZQogICAgICAgIGVuZGlmOwoKICAgICAgICAvKiBJbWFnaW5nIFN0dWRpZXMgKi8KICAgICAgICBpZiBub2RlMiB0aGVuCiAgICAgICAgZWxzZQogICAgICAgIGVuZGlmOwoKICAgICAgICAvKiBQcmVwYXJlIG91dHB1dCAqLwogICAgICAgIGlmIGNvdW50KHJlY29tbWVuZGF0aW9ucykgPiAwIHRoZW4KICAgICAgICAgICAgYWxlcnRfbmVlZGVkIDo9IHRydWU7CiAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UgOj0gIkNsaW5pY2FsIERlY2lzaW9uIFN1cHBvcnQ6ICIgfHwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQocmVjb21tZW5kYXRpb25zKSB8fCAiIHJlY29tbWVuZGF0aW9ucyI7CiAgICAgICAgZWxzZQogICAgICAgICAgICBhbGVydF9uZWVkZWQgOj0gZmFsc2U7CiAgICAgICAgICAgIGFsZXJ0X21lc3NhZ2UgOj0gIk5vIHNwZWNpZmljIHJlY29tbWVuZGF0aW9ucyBhdCB0aGlzIHRpbWUiOwogICAgICAgIGVuZGlmOwogICAgOzsKICAgIAogICAgYWN0aW9uOgogICAgICAgIC8qIEV4ZWN1dGUgcmVjb21tZW5kYXRpb25zICovCiAgICAgICAgaWYgYWxlcnRfbmVlZGVkIHRoZW4KICAgICAgICAgICAgd3JpdGUgYWxlcnRfbWVzc2FnZTsKICAgICAgICAgICAgd3JpdGUgIkRlY2lzaW9uIFBhdGg6ICIgfHwgZGVjaXNpb25fcGF0aDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciByZWMgaW4gcmVjb21tZW5kYXRpb25zIGRvCiAgICAgICAgICAgICAgICB3cml0ZSAiICAtICIgfHwgcmVjOwogICAgICAgICAgICBlbmRkbzsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7CiAgICAgICAgZW5kaWY7CiAgICA7OwoKZW5kOgo=",
      "title": "Arden Syntax MLM"
    }
  ]
}